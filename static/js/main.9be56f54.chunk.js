(this.webpackJsonpmatsurisu_mania=this.webpackJsonpmatsurisu_mania||[]).push([[0],{10:function(e,t,a){},11:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),i=(a(10),a(1)),s=a(2);function l(e){var t=e.y,a=e.setY,c=Object(n.useState)(!1),o=Object(i.a)(c,2),s=o[0],l=o[1],u=Object(n.useState)(0),f=Object(i.a)(u,2),m=f[0],E=f[1],h=function(){return l(!1)};return r.a.createElement("div",{className:"scroller",onPointerDown:function(e){var t=e.clientY;l(!0),E(t)},onPointerLeave:h,onPointerCancel:h,onPointerUp:h,onPointerMove:function(e){var n=e.clientY;s&&(a(t+(n-m)),E(n))},onWheel:function(e){var n=e.deltaY;return a(t-n/2)}})}var u={width:625,height:0,y:0};function f(e,t){var a=t.type,n=t.value;switch(a){case"SET_HEIGHT":return Object(s.a)(Object(s.a)({},e),{},{height:n});case"SET_WIDTH":return Object(s.a)(Object(s.a)({},e),{},{width:n});case"SET_Y":return Object(s.a)(Object(s.a)({},e),{},{y:Math.max(Math.min(n,0),-1e4)});default:return e}}var m=Object(n.createContext)(0),E=Object(n.createContext)(u);function h(e){var t=e.children,a=Object(n.useReducer)(f,u),c=Object(i.a)(a,2),o=c[0],s=c[1],h=Object(n.useState)(0),d=Object(i.a)(h,2),p=d[0],v=d[1],b=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=setInterval((function(){return v(p+1)}),100);return function(){return clearInterval(e)}}),[p,v]);var j=Object(n.useCallback)((function(){if(b.current){var e=b.current.getBoundingClientRect();s({type:"SET_HEIGHT",value:e.height}),s({type:"SET_WIDTH",value:e.width})}}),[b,s]);return Object(n.useEffect)((function(){return window.addEventListener("resize",j),function(){return window.removeEventListener("resize",j)}}),[j]),Object(n.useLayoutEffect)(j,[j]),r.a.createElement(m.Provider,{value:p},r.a.createElement(E.Provider,{value:o},r.a.createElement(l,{y:o.y,setY:function(e){return s({type:"SET_Y",value:e})}}),r.a.createElement("div",{className:"main",ref:b},t)))}function d(e){var t=e.position,a=e.offset,c=e.stay,o=e.factor,s=e.children,l=Object(n.useRef)(null),u=Object(n.useContext)(E),f=Object(n.useState)(0),m=Object(i.a)(f,2),h=m[0],d=m[1];t=t||0,a=a||0,c=void 0===c?300:c;var p=(u.y+t)*o,v=Math.max(Math.min(p+c*o,0),p)+u.height/2+a,b=Math.floor(100*o),j=v>u.height||v+2*h<0;return Object(n.useLayoutEffect)((function(){l.current&&d(l.current.getBoundingClientRect().height)}),[l,d,u]),j?null:r.a.createElement("div",{ref:l,className:"parallax",style:{left:0,top:v,zIndex:b}},s)}function p(e){var t=e.control,a=e.frameDur,n=e.srcs,c=e.alt,o=e.style,i=function(e,t,a){return t=t||1,Math.floor(e/t)%a}(t,a,n.length);return r.a.createElement("img",{alt:c,style:o,src:n[i]})}function v(e){var t=e.frameDur,a=e.srcs,c=e.alt,o=e.style,i=Object(n.useContext)(m);return r.a.createElement(p,Object.assign({control:i},{frameDur:t,srcs:a,alt:c,style:o}))}function b(e){var t=e.name,a=e.x,n=e.y,c=e.center,o=e.width,i={};return i=c?{display:"block",margin:"0 auto"}:{display:"inline-block",position:"relative",marginLeft:a||0,marginTop:n||0},o&&(i=Object(s.a)(Object(s.a)({},i),{},{width:o,height:"auto"})),r.a.createElement(v,{alt:"matsurisu",style:i,frameDur:5,srcs:["/matsurisu/static/img/risu/".concat(t,"1.png"),"/matsurisu/static/img/risu/".concat(t,"2.png")]})}function j(e){var t=e.children,a=e.start,c=e.end,o=e.fadeDur,s=e.offset;s=s||0,o=o||300;var l=Object(n.useState)(0),u=Object(i.a)(l,2),f=(u[0],u[1]),m=Object(n.useRef)(null),h=Object(n.useContext)(E),d=-h.y,p=d>a-o&&d<c+o,v=1-(Math.max(Math.min((a-d)/o,1),0)+Math.max(Math.min((d-c)/o,1),0)),b=h.height/2+s;return Object(n.useLayoutEffect)((function(){m.current&&f(m.current.getBoundingClientRect().height)}),[m,f,h]),p?r.a.createElement("div",{ref:m,className:"fade",style:{top:b,opacity:v}},t):null}var O=function(){return r.a.createElement(h,null,r.a.createElement(d,{factor:1,position:0,offset:-50,stay:0},r.a.createElement(b,{name:"sit",width:200,center:!0})),r.a.createElement(j,{start:0,end:0,offset:50},r.a.createElement("p",{className:"title"},"\u307e\u3064\u308a\u3059")),r.a.createElement(d,{factor:1,position:800,offset:-50},r.a.createElement(b,{name:"cheer",width:200,center:!0})),r.a.createElement(j,{start:800,end:1100,offset:50},r.a.createElement("p",{className:"title"},"\u305d\u308c\u306f\u3001\u590f\u8272\u307e\u3064\u308a\u3092\u611b\u3059\u308b\u3082\u306e")),r.a.createElement(d,{factor:1,position:1600,offset:-50},r.a.createElement(b,{name:"wave",width:180,center:!0})),r.a.createElement(j,{start:1600,end:1900,offset:50},r.a.createElement("p",{className:"title"},"\u3044\u308d\u3093\u306a\u307e\u3064\u308a\u3059\u304c\u3044\u308b")),r.a.createElement(d,{factor:1.5,position:2400,offset:0},r.a.createElement(b,{name:"art",width:200,x:50})),r.a.createElement(d,{factor:1,position:2400,offset:0},r.a.createElement("p",{className:"title-right"},"\u7d75\u304c\u63cf\u3051\u308b\u307e\u3064\u308a\u3059")),r.a.createElement(d,{factor:1.5,position:3200,offset:0},r.a.createElement(b,{name:"music",width:200,x:400})),r.a.createElement(d,{factor:1,position:3200,offset:0},r.a.createElement("p",{className:"title-left"},"\u97f3\u697d\u304c\u3067\u304d\u308b\u307e\u3064\u308a\u3059")),r.a.createElement(d,{factor:1.5,position:4e3,offset:-50},r.a.createElement(b,{name:"pc",width:200,center:!0})),r.a.createElement(d,{factor:1,position:4e3,offset:50},r.a.createElement("p",{className:"title"},"\u898b\u3066\u308b\u3060\u3051\u306e\u307e\u3064\u308a\u3059\u3082\u3044\u308b")),r.a.createElement(d,{factor:1.5,position:4800,offset:-35},r.a.createElement(b,{name:"wave",width:100,x:50})),r.a.createElement(d,{factor:1.1,position:4800,offset:-70},r.a.createElement(b,{name:"art",width:100,x:125})),r.a.createElement(d,{factor:1.6,position:4800,offset:-65},r.a.createElement(b,{name:"music",width:100,x:410})),r.a.createElement(d,{factor:1.4,position:4800,offset:-40},r.a.createElement(b,{name:"cheer",width:100,x:210})),r.a.createElement(d,{factor:1.2,position:4800,offset:-30},r.a.createElement(b,{name:"sit",width:100,x:490})),r.a.createElement(d,{factor:1.8,position:4800,offset:-45},r.a.createElement(b,{name:"pc",width:100,x:310})),r.a.createElement(j,{start:4800,end:5100,offset:60},r.a.createElement("p",{className:"title"},"\u51fa\u6765\u308b\u3053\u3068\u306f\u9055\u3046\u3051\u308c\u3069"),r.a.createElement("p",{className:"title"},"\u611b\u3059\u308b\u6c17\u6301\u3061\u306f\u7686\u540c\u3058")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){e.exports=a(11)}},[[5,1,2]]]);
//# sourceMappingURL=main.9be56f54.chunk.js.map