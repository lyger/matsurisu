(this.webpackJsonpmatsurisu_mania=this.webpackJsonpmatsurisu_mania||[]).push([[0],{13:function(e,t,a){e.exports=a(27)},18:function(e,t,a){},26:function(e,t){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),o=(a(18),a(12)),i=a(2),l=a(1);function m(e){var t=e.y,a=e.setY,c=Object(n.useState)(!1),s=Object(i.a)(c,2),o=s[0],l=s[1],m=Object(n.useState)(0),u=Object(i.a)(m,2),f=u[0],E=u[1],d=Object(n.useState)(!1),g=Object(i.a)(d,2),h=g[0],p=g[1],w=function(){return l(!1)};return r.a.createElement("div",{className:"scroller",onPointerDown:function(e){var t=e.clientY;l(!0),E(t)},onPointerLeave:w,onPointerCancel:w,onPointerUp:w,onPointerMove:function(e){var n=e.clientY;o&&(p(!0),a(t+(n-f)),E(n))},onWheel:function(e){var n=e.deltaY;p(!0),a(t-n/2)}},r.a.createElement("div",{className:"scroll-prompt".concat(h?" hidden":"")},"\u30b9\u30af\u30ed\u30fc\u30eb"))}var u={width:625,height:0,y:0};function f(e,t){var a=t.type,n=t.value;switch(a){case"SET_HEIGHT":return Object(l.a)(Object(l.a)({},e),{},{height:n});case"SET_WIDTH":return Object(l.a)(Object(l.a)({},e),{},{width:n});case"SET_Y":return Object(l.a)(Object(l.a)({},e),{},{y:Math.max(Math.min(n,0),-15e3)});default:return e}}var E=Object(n.createContext)(0),d=Object(n.createContext)(u);function g(e){var t=e.children,a=Object(n.useReducer)(f,u),c=Object(i.a)(a,2),s=c[0],o=c[1],l=Object(n.useState)(0),g=Object(i.a)(l,2),h=g[0],p=g[1],w=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=setInterval((function(){return p(h+1)}),100);return function(){return clearInterval(e)}}),[h,p]);var v=Object(n.useCallback)((function(){if(w.current){var e=w.current.getBoundingClientRect();o({type:"SET_HEIGHT",value:e.height}),o({type:"SET_WIDTH",value:e.width})}}),[w,o]);return Object(n.useEffect)((function(){return window.addEventListener("resize",v),function(){return window.removeEventListener("resize",v)}}),[v]),Object(n.useLayoutEffect)(v,[v]),r.a.createElement(E.Provider,{value:h},r.a.createElement(d.Provider,{value:s},r.a.createElement(m,{y:s.y,setY:function(e){return o({type:"SET_Y",value:e})}}),r.a.createElement("div",{className:"main",ref:w},t)))}function h(e){var t=e.position,a=e.offset,c=e.stay,s=e.factor,o=e.children,l=e.forceShow,m=Object(n.useRef)(null),u=Object(n.useContext)(d),f=Object(n.useState)(0),E=Object(i.a)(f,2),g=E[0],h=E[1];t=t||0,a=a||0,c=void 0===c?300:c;var p=(u.y+t)*s,w=Math.max(Math.min(p+c*s,0),p)+u.height/2+a,v=Math.floor(100*s),b=!l&&(w-2*g>u.height||w+2*g<0),y=Object(n.useCallback)((function(){m.current&&h(m.current.getBoundingClientRect().height)}),[m,h]);return Object(n.useLayoutEffect)(y,[y]),b?null:r.a.createElement("div",{ref:m,className:"parallax",style:{left:0,top:w,zIndex:v}},r.a.Children.map(o,(function(e){return r.a.cloneElement(e,{onLoad:y})})))}var p=a(11);function w(e){var t=e.control,a=e.frameDur,n=e.srcs,c=e.alt,s=e.style,o=e.stagger,i=e.onLoad;o=o||0;for(var l=function(e,t,a){return t=t||1,Math.floor(e/t)%a}(t,a,n.length),m=Object(p.a)(n),u=0;u<o;u++)m.push(m.shift());return r.a.createElement("img",{alt:c,style:s,src:m[l],onLoad:i})}function v(e){var t=e.frameDur,a=e.srcs,c=e.alt,s=e.style,o=e.stagger,i=e.onLoad,l=Object(n.useContext)(E);return r.a.createElement(w,Object.assign({control:l},{frameDur:t,srcs:a,alt:c,style:s,stagger:o,onLoad:i}))}function b(e){var t=e.frameDur,a=e.srcs,c=e.alt,s=e.style,o=e.stagger,i=e.onLoad,l=Object(n.useContext)(d).y;return r.a.createElement(w,Object.assign({control:-l},{frameDur:t,srcs:a,alt:c,style:s,stagger:o,onLoad:i}))}function y(e){var t=e.name,a=e.x,n=e.y,c=e.stagger,s=e.width,o=e.tint,m=e.onLoad,u={display:"inline-block",position:"static",verticalAlign:"top",marginLeft:a||0,marginTop:n||0};if(s&&(u=Object(l.a)(Object(l.a)({},u),{},{width:s,height:"auto"})),o){var f=Object(i.a)(o,2),E=f[0],d=f[1];u=Object(l.a)(Object(l.a)({},u),{},{filter:"brightness(".concat(E,") hue-rotate(").concat(d,"deg)")})}return r.a.createElement(b,{alt:"matsurisu",style:u,frameDur:50,stagger:c,onLoad:m,srcs:["/matsurisu/static/img/risu/".concat(t,"1.png"),"/matsurisu/static/img/risu/".concat(t,"2.png")]})}function j(e){var t=e.name,a=e.x,n=e.y,c=e.center,s=e.stagger,o=e.width,m=e.tint,u=e.onLoad,f={};if(f=c?{display:"block",margin:"0 auto"}:{display:"inline-block",position:"relative",verticalAlign:"top",marginLeft:a||0,marginTop:n||0},o&&(f=Object(l.a)(Object(l.a)({},f),{},{width:o,height:"auto"})),m){var E=Object(i.a)(m,2),d=E[0],g=E[1];f=Object(l.a)(Object(l.a)({},f),{},{filter:"brightness(".concat(d,") hue-rotate(").concat(g,"deg)")})}return r.a.createElement(v,{alt:"matsurisu",style:f,frameDur:5,stagger:s,onLoad:u,srcs:["/matsurisu/static/img/risu/".concat(t,"1.png"),"/matsurisu/static/img/risu/".concat(t,"2.png")]})}function O(e){var t=e.children,a=e.start,c=e.end,s=e.fadeDur,o=e.offset,i=e.layer;o=o||0,s=s||300,i=void 0===i?0:i;var l=Object(n.useContext)(d),m=-l.y,u=m>a-s&&m<c+s,f=1-(Math.max(Math.min((a-m)/s,1),0)+Math.max(Math.min((m-c)/s,1),0)),E=l.height/2+o;return u?r.a.createElement("div",{className:"fade",style:{top:E,opacity:f,zIndex:i}},t):null}function x(e){var t=e.start;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{factor:1,position:t,offset:-50,stay:0},r.a.createElement(j,{name:"sit",width:200,center:!0})),r.a.createElement(O,{start:t,end:t,offset:50},r.a.createElement("p",{className:"title"},"\u307e\u3064\u308a\u3059")),r.a.createElement(h,{factor:1,position:t+800,offset:-50},r.a.createElement(j,{name:"cheer",width:200,center:!0})),r.a.createElement(O,{start:t+800,end:t+1100,offset:50},r.a.createElement("p",{className:"title"},"\u305d\u308c\u306f\u3001\u590f\u8272\u307e\u3064\u308a\u3092\u611b\u3059\u308b\u3082\u306e")))}function S(e){var t=e.start;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{factor:1,position:t,offset:-50},r.a.createElement(j,{name:"wave",width:180,center:!0})),r.a.createElement(O,{start:t,end:t+300,offset:50},r.a.createElement("p",{className:"title"},"\u3044\u308d\u3093\u306a\u307e\u3064\u308a\u3059\u304c\u3044\u308b")),r.a.createElement(h,{factor:1.5,position:t+800,offset:0},r.a.createElement(j,{name:"art",width:200,x:50})),r.a.createElement(h,{factor:1,position:t+800,offset:0},r.a.createElement("p",{className:"title-right"},"\u7d75\u304c\u63cf\u3051\u308b\u307e\u3064\u308a\u3059")),r.a.createElement(h,{factor:1.5,position:t+1600,offset:0},r.a.createElement(j,{name:"music",width:200,x:400})),r.a.createElement(h,{factor:1,position:t+1600,offset:0},r.a.createElement("p",{className:"title-left"},"\u97f3\u697d\u304c\u3067\u304d\u308b\u307e\u3064\u308a\u3059")),r.a.createElement(h,{factor:1.5,position:t+2400,offset:-50},r.a.createElement(j,{name:"pc",width:200,center:!0})),r.a.createElement(h,{factor:1,position:t+2400,offset:50},r.a.createElement("p",{className:"title"},"\u3044\u3064\u3082\u898b\u5b88\u3063\u3066\u308b\u307e\u3064\u308a\u3059")),r.a.createElement(h,{factor:1.5,position:t+3200,offset:-45},r.a.createElement(j,{name:"wave",width:100,x:50})),r.a.createElement(h,{factor:1.1,position:t+3200,offset:-80},r.a.createElement(j,{name:"art",width:100,x:125})),r.a.createElement(h,{factor:1.6,position:t+3200,offset:-75},r.a.createElement(j,{name:"music",width:100,x:410})),r.a.createElement(h,{factor:1.4,position:t+3200,offset:-50},r.a.createElement(j,{name:"cheer",width:100,x:210})),r.a.createElement(h,{factor:1.2,position:t+3200,offset:-40},r.a.createElement(j,{name:"sit",width:100,x:490})),r.a.createElement(h,{factor:1.8,position:t+3200,offset:-55},r.a.createElement(j,{name:"pc",width:100,x:310})),r.a.createElement(O,{start:t+3200,end:t+3500,offset:60},r.a.createElement("p",{className:"title"},"\u51fa\u6765\u308b\u3053\u3068\u306f\u9055\u3046\u3051\u308c\u3069"),r.a.createElement("p",{className:"title"},"\u611b\u3059\u308b\u6c17\u6301\u3061\u306f\u7686\u540c\u3058")))}var L=a(10);function Y(e,t,a){return e()*(a-t)+t}function N(e){var t=e.num,a=e.seed,c=e.scatterX,s=e.scatterY,o=e.onLoad,l=Object(n.useState)([]),m=Object(i.a)(l,2),u=m[0],f=m[1],E=Object(n.useContext)(d).width;return Object(n.useEffect)((function(){for(var e=new L.alea(a),n=[],r=0,o=0,i=0;i<t;i++){var l={x:Y(e,0,c),y:Y(e,-s/2,s/2)+s*o,tint:[Y(e,.75,1.25),Y(e,-15,15)],stagger:e()>.5?1:0};r+150+l.x>E&&(l.x-=E-150,o++),r+=150+l.x,n.push(l)}f(n)}),[t,a,c,s,E]),u.map((function(e,t){var n="".concat(a).concat(t);return r.a.createElement(y,{key:n,name:"run",width:150,stagger:e.stagger,x:e.x,y:e.y,tint:e.tint,onLoad:o})}))}function C(e){var t=e.start;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{factor:1.3,position:t,stay:0,offset:0,forceShow:!0},r.a.createElement(N,{num:7,seed:"changing",scatterX:70,scatterY:250})),r.a.createElement(h,{factor:1.5,position:t,stay:0,offset:250,forceShow:!0},r.a.createElement(N,{num:6,seed:"scenes",scatterX:70,scatterY:250})),r.a.createElement(h,{factor:1.1,position:t,stay:0,offset:500,forceShow:!0},r.a.createElement(N,{num:10,seed:"currently",scatterX:70,scatterY:250})))}function M(e){var t=e.start;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{start:t,end:t+300},r.a.createElement("p",{className:"title"},"\u305d\u3057\u3066\u305d\u306e\u307e\u3064\u308a\u3059\u9054\u304c")),r.a.createElement(h,{factor:1.1,position:t+400,stay:0,offset:-100},r.a.createElement(N,{num:2,seed:"natsuiro",scatterX:70,scatterY:400})),r.a.createElement(h,{factor:1.4,position:t+400,stay:0,offset:300},r.a.createElement(N,{num:3,seed:"matsuri",scatterX:70,scatterY:400})),r.a.createElement(O,{start:t+800,end:t+1100},r.a.createElement("p",{className:"title"},"\u3069\u3093\u3069\u3093")),r.a.createElement(h,{factor:1.2,position:t+1200,stay:0,offset:-200},r.a.createElement(N,{num:3,seed:"we",scatterX:70,scatterY:200})),r.a.createElement(h,{factor:1.4,position:t+1200,stay:0},r.a.createElement(N,{num:2,seed:"love",scatterX:70,scatterY:200})),r.a.createElement(h,{factor:1,position:t+1200,stay:0,offset:200},r.a.createElement(N,{num:4,seed:"you",scatterX:70,scatterY:200})),r.a.createElement(O,{start:t+1600,end:t+1900},r.a.createElement("p",{className:"title"},"\u5897\u3048\u3066\u3044\u304f")),r.a.createElement(h,{factor:.9,position:t+2200,stay:0,offset:-200},r.a.createElement(N,{num:7,seed:"congratulations",scatterX:70,scatterY:250})),r.a.createElement(h,{factor:1.3,position:t+2200,stay:0},r.a.createElement(N,{num:8,seed:"500,000",scatterX:70,scatterY:250})),r.a.createElement(h,{factor:1.6,position:t+2200,stay:0,offset:200},r.a.createElement(N,{num:10,seed:"subscribers!",scatterX:70,scatterY:250})))}function T(e){var t=e.start;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{factor:.8,position:t,offset:-50,stay:500},r.a.createElement(j,{name:"glow",width:130,x:100}),r.a.createElement(j,{name:"glow",width:130,stagger:1,x:30}),r.a.createElement(j,{name:"glow",width:130,x:30})),r.a.createElement(h,{factor:.7,position:t,offset:-80,stay:500},r.a.createElement(j,{name:"sglow",width:90,x:75}),r.a.createElement(j,{name:"sglow",width:90,stagger:1,x:20}),r.a.createElement(j,{name:"sglow",width:90,x:20}),r.a.createElement(j,{name:"sglow",width:90,stagger:1,x:20}),r.a.createElement(j,{name:"sglow",width:90,x:20})),r.a.createElement(h,{factor:.6,position:t,offset:-110,stay:500},r.a.createElement(j,{name:"sglow",width:70,x:50}),r.a.createElement(j,{name:"sglow",width:70,stagger:1,x:10}),r.a.createElement(j,{name:"sglow",width:70,x:10}),r.a.createElement(j,{name:"sglow",width:70,stagger:1,x:10}),r.a.createElement(j,{name:"sglow",width:70,x:10}),r.a.createElement(j,{name:"sglow",width:70,stagger:1,x:10}),r.a.createElement(j,{name:"sglow",width:70,x:10})),r.a.createElement(O,{start:t,end:t+500,offset:60},r.a.createElement("p",{className:"title"},"\u8a18\u5ff5\u30a4\u30d9\u30f3\u30c8\uff08\u4eee\uff09")))}function X(e){var t=e.scene,a=e.start,c=e.end,s=e.padStart,i=e.padEnd,l=Object(o.a)(e,["scene","start","end","padStart","padEnd"]);s=s||400,i=i||400;var m=t,u=Object(n.useContext)(d).y;return u<-a+s&&u>-c-i?r.a.createElement(m,Object.assign({start:a},l)):null}var D=function(){return r.a.createElement(g,null,r.a.createElement(X,{scene:x,start:0,end:1600}),r.a.createElement(X,{scene:S,start:1600,end:5600}),r.a.createElement(X,{scene:M,start:5800,end:9200}),r.a.createElement(X,{scene:T,start:8400,end:1e4,padStart:800}),r.a.createElement(X,{scene:C,start:9200,end:10400,padStart:800}),r.a.createElement(X,{scene:T,start:1e4,end:11600,padStart:800}),r.a.createElement(X,{scene:C,start:10800,end:12e3,padStart:800}),r.a.createElement(X,{scene:T,start:11600,end:13200,padStart:800}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.e46d3a85.chunk.js.map